(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{AYmC:function(t,e,s){"use strict";(function(t){var i=s("3zqZ");function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var s=[],i=!0,a=!1,r=void 0;try{for(var n,o=t[Symbol.iterator]();!(i=(n=o.next()).done)&&(s.push(n.value),!e||s.length!==e);i=!0);}catch(t){a=!0,r=t}finally{try{i||null==o.return||o.return()}finally{if(a)throw r}}return s}(t,e)||n(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||n(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){if(t){if("string"==typeof t)return o(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,i=new Array(e);s<e;s++)i[s]=t[s];return i}function c(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function l(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?c(Object(s),!0).forEach((function(e){u(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function u(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}e.a={name:"Dashboard",components:{Avatar:i.a},data:function(){return{thisMonth:null,period:"",chartOptions:{chart:{type:"donut"},theme:{palette:"palette9"},labels:[]},type:"month",chart2Options:{chart:{type:"bar",height:300,width:500},theme:{palette:"palette9"},plotOptions:{bar:{horizontal:!0,barHeight:"100%",distributed:!0,dataLabels:{position:"bottom"}}},dataLabels:{enabled:!0,textAnchor:"start",style:{colors:["#fff"]},formatter:function(t,e){return e.w.globals.labels[e.dataPointIndex]},offsetX:0,dropShadow:{enabled:!0}},yaxis:{labels:{show:!1}},xaxis:{categories:[]},tooltip:{theme:"dark",x:{show:!1},y:{title:{formatter:function(){return""}}}}},series2:[{name:"Cost",data:[]}]}},watch:{chartLabels:function(t){this.chartOptions=l(l({},this.chartOptions),{},{labels:r(t)})},type:function(t){if("month"==t&&(this.getInventoryList(this.thisMonth,this.thisMonth),this.period=this.thisMonth),"quarter"==t){var e=a(this.getQuarterMonth(new Date),2),s=e[0],i=e[1];this.getInventoryList(s,i),this.period="".concat(s," ~ ").concat(i)}if("year"==t){var r=a(this.getThisYearMonth(new Date),2),n=r[0],o=r[1];this.getInventoryList(n,o),this.period="".concat(n," ~ ").concat(o)}},inventoryValues:function(t){var e=[],s=[];t.forEach((function(t){e.push(t.category),s.push(t.cost)})),this.$refs.chart2.updateOptions({xaxis:{categories:e}}),this.$refs.chart2.updateSeries([{data:s}])}},computed:{today:function(){return this.formatDate(new Date,"yyyy/MM/dd HH:mm:ss")},greeting:function(){return this.getDayPart()},userProfile:function(){return this.$store.getters.userProfile},currentValue:function(){return this.$store.getters.currentValue},zeroStockItems:function(){return this.$store.getters.zeroStockItems},blackListItems:function(){return this.$store.getters.blackListItems},currentStockAmount:function(){return this.$store.getters.currentStockAmount},chartLabels:function(){return t.map(this.allCategories,"name")},allCategories:function(){return this.$store.getters.allCategories},inventoryByMonth:function(){return this.$store.getters.inventoryByMonth},series:function(){var e=this,s=[],i=t.countBy(this.inventoryByMonth,"categoryId"),r=t(i).toPairs().orderBy(1,"desc").fromPairs().value();return Object.entries(r).filter((function(i){var r=a(i,2),n=r[0],o=r[1];t.forEach(e.allCategories,(function(t){t.id==n&&s.push(o)}))})),s},inventoryValues:function(){var e=this,s=[],i=this.$store.getters.inventoryValues;return t(i).groupBy("id").map((function(e,s){return{categoryId:s,cost:t.sumBy(e,"cost")}})).value().filter((function(i){t.forEach(e.allCategories,(function(t){t.id==i.categoryId&&s.push({category:t.name,cost:i.cost})}))})),s}},methods:{getInventoryList:function(t,e){this.$store.dispatch("getInventoryByMonth",{start:t,end:e})},getInventoryValues:function(){this.$store.dispatch("getInventoryValues")}},created:function(){this.thisMonth=this.formatDate(new Date,"yyyy/MM"),this.$store.dispatch("getAllCategories"),this.getInventoryList(this.thisMonth,this.thisMonth),this.getInventoryValues(),this.period=this.thisMonth},mounted:function(){this.$store.dispatch("getOverviews")}}}).call(this,s("LvDl"))},cndU:function(t,e,s){"use strict";s.r(e);var i=s("AYmC").a,a=s("KHd+"),r=Object(a.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"box greeting-item"},[s("article",{staticClass:"media"},[s("div",{staticClass:"media-left"},[s("avatar",{attrs:{size:"is-64x64"}})],1),t._v(" "),s("div",{staticClass:"media-content"},[s("div",{staticClass:"content"},[s("p",[s("strong",[t._v("Good "+t._s(t.greeting)+", "+t._s(t.userProfile.name))])])])]),t._v(" "),s("div",{staticClass:"media-right"},[t._v(t._s(t.today))])])]),t._v(" "),s("div",{staticClass:"overview-items columns is-multiline is-mobile is-variable is-4 has-text-centered"},[s("div",{staticClass:"column"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-content is-size-1"},[t._v(t._s(t.zeroStockItems))]),t._v(" "),t._m(0)])]),t._v(" "),s("div",{staticClass:"column"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-content is-size-1"},[t._v(t._s(t.blackListItems))]),t._v(" "),t._m(1)])]),t._v(" "),s("div",{staticClass:"column"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-content is-size-1"},[t._v(t._s(t.currentStockAmount))]),t._v(" "),t._m(2)])]),t._v(" "),s("div",{staticClass:"column"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-content is-size-1"},[t._v(t._s(t.currentValue))]),t._v(" "),t._m(3)])])]),t._v(" "),s("div",{staticClass:"overview-items columns is-multiline is-mobile is-variable is-4 has-text-centered"},[s("div",{staticClass:"column is-half"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-content"},[t._m(4),t._v(" "),s("div",{staticClass:"buttons has-addons is-mobile is-centered mb-5"},[s("button",{staticClass:"button is-small is-secondary",class:{"is-outlined":"month"!=t.type},on:{click:function(e){t.type="month"}}},[t._v("This month")]),t._v(" "),s("button",{staticClass:"button is-small is-secondary",class:{"is-outlined":"quarter"!=t.type},on:{click:function(e){t.type="quarter"}}},[t._v("This quarters")]),t._v(" "),s("button",{staticClass:"button is-small is-secondary",class:{"is-outlined":"year"!=t.type},on:{click:function(e){t.type="year"}}},[t._v("This year")])]),t._v(" "),s("div",{staticClass:"is-item-centered"},[t._v("\n\t\t\t\t\t\t"+t._s(t.period)+"\n\t\t\t\t\t\t"),s("apexchart",{ref:"chart",attrs:{options:t.chartOptions,series:t.series}})],1)])])]),t._v(" "),s("div",{staticClass:"column is-half"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-content"},[t._m(5),t._v(" "),s("div",{staticClass:"is-item-centered"},[s("apexchart",{ref:"chart2",attrs:{options:t.chart2Options,series:t.series2}})],1)])])])])])}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{staticClass:"card-footer item-title"},[s("span",{staticClass:"fa-stack fa-1x is-hidden-mobile"},[s("i",{staticClass:"fas fa-box fa-stack-2x"}),t._v(" "),s("i",{staticClass:"fa fa-times fa-stack-2x fa-inverse"})]),t._v(" "),s("span",{staticClass:"is-size-5"},[t._v("Zero Stock Items")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{staticClass:"card-footer item-title"},[s("span",{staticClass:"fa-stack fa-1x is-hidden-mobile"},[s("i",{staticClass:"fas fa-box fa-stack-1x"}),t._v(" "),s("i",{staticClass:"fas fa-ban fa-stack-2x has-text-danger"})]),t._v(" "),s("span",{staticClass:"is-size-5"},[t._v("Disontinuted Items")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{staticClass:"card-footer item-title"},[s("span",{staticClass:"fa-stack fa-1x is-hidden-mobile"},[s("i",{staticClass:"fas fa-boxes fa-stack-2x"})]),t._v(" "),s("span",{staticClass:"is-size-5"},[t._v("Current Stock(units)")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{staticClass:"card-footer item-title"},[s("span",{staticClass:"fa-stack fa-1x is-hidden-mobile"},[s("i",{staticClass:"far fa-money-bill-alt fa-stack-2x"})]),t._v(" "),s("span",{staticClass:"is-size-5"},[t._v("Stock Current Value")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"item-title is-size-5"},[s("i",{staticClass:"fas fa-cubes"}),t._v(" Inventory")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"item-title is-size-5"},[s("i",{staticClass:"fas fa-dollar-sign"}),t._v(" Costs")])}],!1,null,null,null);e.default=r.exports}}]);