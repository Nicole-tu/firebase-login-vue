(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{pVsz:function(s,t,i){"use strict";i.r(t);var a=i("3Fm7");function e(s,t,i,a,e,o,n){try{var r=s[o](n),l=r.value}catch(s){return void i(s)}r.done?t(l):Promise.resolve(l).then(a,e)}var o={name:"PasswordReset",components:{BoxModal:i("0mjZ").a},props:{isShowModal:{type:Boolean,default:!1}},data:function(){return{email:"",showSuccess:!1,errorMsg:""}},methods:{resetPassword:function(){var s,t=this;return(s=regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t.errorMsg="",s.prev=1,s.next=4,a.a.sendPasswordResetEmail(t.email);case 4:t.showSuccess=!0,s.next=10;break;case 7:s.prev=7,s.t0=s.catch(1),t.errorMsg=s.t0.message;case 10:case"end":return s.stop()}}),s,null,[[1,7]])})),function(){var t=this,i=arguments;return new Promise((function(a,o){var n=s.apply(t,i);function r(s){e(n,a,o,r,l,"next",s)}function l(s){e(n,a,o,r,l,"throw",s)}r(void 0)}))})()}}},n=i("KHd+"),r={name:"Login",components:{PasswordReset:Object(n.a)(o,(function(){var s=this,t=s.$createElement,i=s._self._c||t;return i("box-modal",{attrs:{id:"modal-forget-password","is-show-modal":s.isShowModal},scopedSlots:s._u([{key:"content",fn:function(){return[s.showSuccess?i("div",{staticClass:"has-text-centered"},[i("p",{staticClass:"has-text-success"},[s._v("Success! Check your email for a reset link.")]),s._v(" "),i("br"),s._v(" "),i("button",{staticClass:"button is-primary is-inverted",on:{click:function(t){return s.$emit("close")}}},[s._v("OK")])]):i("div",[i("h5",[s._v("Enter your email to reset your password")]),s._v(" "),i("hr"),s._v(" "),i("form",{on:{submit:function(s){s.preventDefault()}}},[i("div",{staticClass:"field"},[i("p",{staticClass:"control has-icons-left"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.email,expression:"email",modifiers:{trim:!0}}],staticClass:"input",attrs:{type:"email",placeholder:"Email"},domProps:{value:s.email},on:{input:function(t){t.target.composing||(s.email=t.target.value.trim())},blur:function(t){return s.$forceUpdate()}}}),s._v(" "),i("span",{staticClass:"icon is-small is-left"},[i("i",{staticClass:"fas fa-envelope"})])])])]),s._v(" "),""!==s.errorMsg?i("p",{staticClass:"has-text-danger"},[s._v(s._s(s.errorMsg))]):s._e(),s._v(" "),i("br"),s._v(" "),i("br"),s._v(" "),i("div",{staticClass:"field is-grouped is-grouped-right"},[i("p",{staticClass:"control"},[i("a",{staticClass:"button is-light",on:{click:function(t){return s.$emit("close")}}},[s._v("\n\t\t\t\t\t\tCancel\n\t\t\t\t\t")])]),s._v(" "),i("p",{staticClass:"control"},[i("a",{staticClass:"button is-primary",on:{click:function(t){return s.resetPassword()}}},[s._v("\n\t\t\t\t\t\tReset\n\t\t\t\t\t")])])])])]},proxy:!0}])})}),[],!1,null,null,null).exports},data:function(){return{loginForm:{email:"",password:""},signupForm:{name:"",email:"",password:""},showLoginForm:!0,showPasswordReset:!1,validation:{email:!0,password:!0}}},watch:{"loginForm.email":function(s){this.checkEmail(s)?this.validation.email=!1:this.validation.email=!0},"loginForm.password":function(s){this.checkPassword(s)?this.validation.password=!1:this.validation.password=!0},"signupForm.email":function(s){this.checkEmail(s)?this.validation.email=!1:this.validation.email=!0},"signupForm.password":function(s){this.checkPassword(s)?this.validation.password=!1:this.validation.password=!0}},methods:{toggleForm:function(){this.showLoginForm=!this.showLoginForm,this.loginForm={email:"",password:""},this.signupForm={name:"",email:"",password:""},this.validation={email:!0,password:!0}},togglePasswordReset:function(){this.showPasswordReset=!this.showPasswordReset},checkEmail:function(s){return/\S/.test(s)&&/^.+@.+\..+$/.test(s)},checkPassword:function(s){return/^(?![0-9]+$)(?![a-z]+$)(?![A-Z]+$)(?!([^(0-9a-zA-Z)])+$).{8,}$/.test(s)},login:function(){var s=this,t=this.loginForm,i=t.email,a=t.password;this.checkEmail(i)&&this.checkPassword(a)?this.$store.dispatch("login",{email:i,password:a}).then((function(){return s.toRootPage()})):alert("error")},loginWithGoogle:function(){var s=this,t=new a.c.auth.GoogleAuthProvider;this.$store.dispatch("loginWithProvider",t).then((function(){return s.toRootPage()}))},signup:function(){var s=this,t=this.signupForm,i=t.name,a=t.email,e=t.password;this.checkEmail(a)&&this.checkPassword(e)&&i.length>0?this.$store.dispatch("signup",{email:this.signupForm.email,password:this.signupForm.password,name:this.signupForm.name}).then((function(){return s.toRootPage()})):alert("error")},toRootPage:function(){this.$router.push({name:"Dashboard"})}}},l=Object(n.a)(r,(function(){var s=this,t=s.$createElement,i=s._self._c||t;return i("div",{staticClass:"login-page"},[i("PasswordReset",{attrs:{"is-show-modal":s.showPasswordReset},on:{close:function(t){return s.togglePasswordReset()}}}),s._v(" "),i("div",{staticClass:"container has-text-centered"},[i("div",{staticClass:"column is-8 is-offset-2"},[i("h3",{staticClass:"title has-text-white"},[s._v("Welcome")]),s._v(" "),i("hr",{staticClass:"login-hr"}),s._v(" "),s._m(0),s._v(" "),i("div",{staticClass:"box"},[i("div",{class:{"signup-form":!s.showLoginForm}},[s.showLoginForm?i("form",{on:{submit:function(s){s.preventDefault()}}},[i("h4",[s._v("Login")]),s._v(" "),i("br"),s._v(" "),i("br"),s._v(" "),i("div",{staticClass:"field"},[i("p",{staticClass:"control has-icons-left has-icons-right"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.loginForm.email,expression:"loginForm.email",modifiers:{trim:!0}}],staticClass:"input",attrs:{id:"email1",type:"email",placeholder:"Email"},domProps:{value:s.loginForm.email},on:{input:function(t){t.target.composing||s.$set(s.loginForm,"email",t.target.value.trim())},blur:function(t){return s.$forceUpdate()}}}),s._v(" "),s._m(1),s._v(" "),i("span",{staticClass:"icon is-small is-right"},[s.loginForm.email.length>0?[s.validation.email?i("i",{staticClass:"fas fa-times has-text-danger"}):i("i",{staticClass:"fas fa-check has-text-success"})]:s._e()],2)])]),s._v(" "),i("div",{staticClass:"field"},[i("p",{staticClass:"control has-icons-left"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.loginForm.password,expression:"loginForm.password",modifiers:{trim:!0}}],staticClass:"input",attrs:{id:"password",type:"password",placeholder:"Password"},domProps:{value:s.loginForm.password},on:{input:function(t){t.target.composing||s.$set(s.loginForm,"password",t.target.value.trim())},blur:function(t){return s.$forceUpdate()}}}),s._v(" "),s._m(2)])]),s._v(" "),i("a",{staticClass:"button is-primary is-rounded is-medium is-fullwidth",on:{click:s.login}},[s._v("Log In")]),s._v(" "),i("br"),s._v(" "),i("span",[s._v("OR")]),s._v(" "),i("br"),s._v(" "),i("br"),s._v(" "),i("a",{staticClass:"button is-outlined is-info is-rounded is-medium is-fullwidth",on:{click:s.loginWithGoogle}},[s._m(3),s._v(" "),i("span",[s._v("Sign in with Google")])])]):i("form",{on:{submit:function(s){s.preventDefault()}}},[i("h2",{staticClass:"is-size-4"},[s._v("Create a new account")]),s._v(" "),i("br"),s._v(" "),i("br"),s._v(" "),i("div",{staticClass:"field"},[i("p",{staticClass:"control has-icons-left"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.signupForm.name,expression:"signupForm.name",modifiers:{trim:!0}}],staticClass:"input",attrs:{id:"name",type:"text",placeholder:"Name"},domProps:{value:s.signupForm.name},on:{input:function(t){t.target.composing||s.$set(s.signupForm,"name",t.target.value.trim())},blur:function(t){return s.$forceUpdate()}}}),s._v(" "),s._m(4)])]),s._v(" "),i("div",{staticClass:"field"},[i("p",{staticClass:"control has-icons-left has-icons-right"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.signupForm.email,expression:"signupForm.email",modifiers:{trim:!0}}],staticClass:"input",attrs:{id:"email2",type:"email",placeholder:"you@email.com"},domProps:{value:s.signupForm.email},on:{input:function(t){t.target.composing||s.$set(s.signupForm,"email",t.target.value.trim())},blur:function(t){return s.$forceUpdate()}}}),s._v(" "),s._m(5),s._v(" "),i("span",{staticClass:"icon is-small is-right"},[s.signupForm.email.length>0?[s.validation.email?i("i",{staticClass:"fas fa-times has-text-danger"}):i("i",{staticClass:"fas fa-check has-text-success"})]:s._e()],2)])]),s._v(" "),i("div",{staticClass:"field"},[i("p",{staticClass:"control has-icons-left has-icons-right"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.signupForm.password,expression:"signupForm.password",modifiers:{trim:!0}}],staticClass:"input",attrs:{id:"password2",type:"password",placeholder:"Password"},domProps:{value:s.signupForm.password},on:{input:function(t){t.target.composing||s.$set(s.signupForm,"password",t.target.value.trim())},blur:function(t){return s.$forceUpdate()}}}),s._v(" "),s._m(6),s._v(" "),i("span",{staticClass:"icon is-small is-right"},[s.signupForm.password.length>0?[s.validation.password?i("i",{staticClass:"fa fa-exclamation-triangle has-text-danger"}):i("i",{staticClass:"fas fa-check has-text-success"})]:s._e()],2)]),s._v(" "),s.signupForm.password.length>0&&s.validation.password?i("p",{staticClass:"help",class:s.validation.password?"has-text-danger":null},[s._v("Passwords must be at least 8 characters long. And must contain at least one uppercase.")]):s._e()]),s._v(" "),i("a",{staticClass:"button is-primary is-rounded is-medium is-fullwidth",on:{click:s.signup}},[s._v("Sign Up")])])])]),s._v(" "),i("p",{staticClass:"has-text-grey"},[s.showLoginForm?[i("a",{on:{click:s.toggleForm}},[s._v("Sign Up")]),s._v("  ・ \n\t\t\t\t\t"),i("a",{attrs:{"data-target":"modal-forget-password"},on:{click:s.togglePasswordReset}},[s._v("Forgot Password")])]:[i("a",{on:{click:s.toggleForm}},[s._v("Log In")]),s._v("   \n\t\t\t\t")]],2)])])],1)}),[function(){var s=this,t=s.$createElement,i=s._self._c||t;return i("p",{staticClass:"subtitle has-text-white"},[s._v("\n\t\t\t\tA PWA project using\n\t\t\t\t"),i("strong",[s._v("Vue")]),s._v(",\n\t\t\t\t"),i("strong",[s._v("Firebase")]),s._v(" and\n\t\t\t\t"),i("strong",[s._v("Bulma")]),s._v(".\n\t\t\t")])},function(){var s=this.$createElement,t=this._self._c||s;return t("span",{staticClass:"icon is-small is-left"},[t("i",{staticClass:"fas fa-envelope"})])},function(){var s=this.$createElement,t=this._self._c||s;return t("span",{staticClass:"icon is-small is-left"},[t("i",{staticClass:"fas fa-lock"})])},function(){var s=this.$createElement,t=this._self._c||s;return t("span",{staticClass:"icon"},[t("i",{staticClass:"fab fa-google"})])},function(){var s=this.$createElement,t=this._self._c||s;return t("span",{staticClass:"icon is-small is-left"},[t("i",{staticClass:"fa fa-user"})])},function(){var s=this.$createElement,t=this._self._c||s;return t("span",{staticClass:"icon is-small is-left"},[t("i",{staticClass:"fas fa-envelope"})])},function(){var s=this.$createElement,t=this._self._c||s;return t("span",{staticClass:"icon is-small is-left"},[t("i",{staticClass:"fas fa-lock"})])}],!1,null,null,null);t.default=l.exports}}]);